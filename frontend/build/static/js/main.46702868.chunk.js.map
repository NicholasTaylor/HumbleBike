{"version":3,"sources":["components/Logo.js","constants/fonts.js","components/Fonts.js","constants/action-types.js","App.js","actions/index.js","reducers/index.js","middleware/index.js","store/index.js","index.js"],"names":["Logo","id","className","ADOBE_FONTS","CustomFonts","rel","href","DATA_LOAD_SUCCESS","REQUEST_DATA_LOAD","SEARCH_STATIONS","FILTER_ELEC","App","this","props","requestDataLoad","setInterval","clearInterval","search","filterElec","updated","onClick","xmlns","viewBox","fill","class","fillRule","d","clipRule","type","label","value","searchQuery","onChange","e","searchStations","filterElecToggle","checked","stations","map","el","isVisible","electric","name","dist","classic","docks","station_id","React","Component","connect","state","hasLocation","dispatch","event","payload","target","stateInit","rootReducer","action","haversine","userLat","userLon","stationLat","stationLon","degToRad","numDegree","Math","PI","userLatRad","stationLatRad","deltaLatRad","deltaLonRad","partOne","sin","cos","partTwo","atan2","sqrt","round","idList","i","length","stationOld","push","processedData","loc","location","isLocation","station","data","currentStation","info","currentInfo","tempObj","includes","indexOf","num_bikes_available","num_docks_available","num_ebikes_available","lat","lon","processedDataSorted","sort","a","b","Date","convertTwoDigits","num","getMonth","getDate","getYear","getHours","getMinutes","getSeconds","Object","assign","stationsSearch","toLowerCase","getStation","input","fetch","then","response","json","getInfo","store","createStore","applyMiddleware","thunk","next","rawLocation","rawStation","rawInfo","Promise","all","navigator","geolocation","getCurrentPosition","position","output","coords","latitude","longitude","rawData","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.46702868.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Logo() {\n\treturn(\n\t\t<header>\n\t\t\t<div id=\"title\">\n\t\t\t\t<h1>\n\t\t\t\t\t<span className=\"noBold\">\n\t\t\t\t\t\tHumble\n\t\t\t\t\t</span>\n\t\t\t\t\tBike\n\t\t\t\t\t<sup>\n\t\t\t\t\t\tBETA\n\t\t\t\t\t</sup>\n\t\t\t\t</h1>\n\t\t\t\t<h2>\n\t\t\t\t\tLife should be simpler. So should finding a CitiBike.\n\t\t\t\t</h2>\n\t\t\t</div>\n\t\t</header>\n\t)\n}\n\nexport default Logo;","export const ADOBE_FONTS = 'https://use.typekit.net/gle3drj.css';","import React from 'react';\nimport {ADOBE_FONTS} from '../constants/fonts';\n\nfunction CustomFonts(){\n\tif (ADOBE_FONTS){\n\t\treturn(\n\t\t\t<link\n\t\t\t\trel=\"stylesheet\" \n\t\t\t\thref={ADOBE_FONTS}\n\t\t\t/>\n\t\t)\n\t} else {\n\t\treturn ''\n\t}\n}\n\nexport default CustomFonts;","export const DATA_LOAD_SUCCESS = 'DATA_LOAD_SUCCESS';\nexport const REQUEST_DATA_LOAD = 'REQUEST_DATA_LOAD';\nexport const SEARCH_STATIONS = 'SEARCH_STATIONS';\nexport const FILTER_ELEC = 'FILTER_ELEC';","import React from 'react';\nimport Logo from './components/Logo'\nimport CustomFonts from './components/Fonts'\nimport './App.css';\nimport {connect} from 'react-redux';\nimport {requestDataLoad, searchStations, filterElecToggle} from './actions/index';\n\nclass App extends React.Component {\n  componentDidMount(){\n    this.props.requestDataLoad();\n    setInterval(this.props.requestDataLoad,10000);\n\n  }\n\n\n  componentWillUnmount(){\n    clearInterval(this.props.requestDataLoad,10000);\n\n  }\n\n  render(){\n    return (\n      <div>\n        <CustomFonts />\n        <div id=\"container\">\n          <div\n            id=\"content\"\n            className={this.props.search + ' ' +this.props.filterElec}\n          >\n            <Logo />\n            <div id=\"updated\">\n              <h2>\n                Last updated: {this.props.updated}\n              </h2>\n              <span\n                className=\"search btn\"\n                onClick={this.props.requestDataLoad}\n              >\n                Refresh\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" class=\"btn-icon\">\n                  <path fillRule=\"evenodd\" d=\"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z\" clipRule=\"evenodd\" />\n                </svg>\n              </span>\n              <span\n                className=\"search\"\n              >\n                Search: <input\n                  type=\"text\"\n                  label=\"search\"\n                  value={this.props.searchQuery}\n                  onChange={(e)=>this.props.searchStations(e)}\n                />\n              </span>\n              <span\n                className=\"search\"\n              >\n                Electric Only? <input\n                  type=\"checkbox\"\n                  label=\"Electric Only?\"\n                  onChange={(e)=>this.props.filterElecToggle(e)}\n                  checked={this.props.filterElec === 'filterElecOn' ? 'checked' : ''}\n                />\n              </span>\n            </div>\n            {this.props.stations.map(el =>(\n              <section\n                key={el.station_id}\n                className={ (el.isVisible ? 'stationOn' : 'stationOff') + ' ' + (el.electric > 0 ? 'elecOn' : 'elecOff') }\n              >\n                <div className=\"container-station\">\n                  <h3 className=\"station-name\">\n                  {el.name}{el.dist}\n                  </h3>\n                  <div className=\"infoSection classic-bikes\">\n                    <h4 className=\"bikes-remaining\">\n                    {el.classic}\n                    </h4>\n                    <h5 className=\"descriptor\">\n                    Classic\n                    </h5>\n                  </div>\n                  <div className=\"infoSection ebikes\">\n                    <h4 className=\"ebikes-remaining\">\n                    {el.electric}\n                    </h4>\n                    <h5 className=\"descriptor\">\n                    Electric\n                    </h5>\n                  </div>\n                  <div className=\"infoSection docks\">\n                    <h4 className=\"docks-remaining\">\n                    {el.docks}\n                    </h4>\n                    <h5 className=\"descriptor\">\n                    Docks\n                    </h5>\n                  </div>\n                </div>\n              </section>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    stations: state.stations,\n    updated: state.updated,\n    hasLocation: state.hasLocation,\n    searchQuery: state.searchQuery,\n    search: state.search,\n    filterElec: state.filterElec\n  };\n}\n\n\nexport default connect(mapStateToProps,{requestDataLoad, searchStations, filterElecToggle})(App);\n","import {REQUEST_DATA_LOAD, SEARCH_STATIONS, FILTER_ELEC} from '../constants/action-types';\n\nexport function requestDataLoad(){\n\treturn function(dispatch){\n\t\treturn dispatch({type:REQUEST_DATA_LOAD})\n\t}\n}\n\nexport function searchStations(event){\n\treturn function(dispatch){\n\t\treturn dispatch({type:SEARCH_STATIONS, payload:{searchQuery:event.target.value}})\n\t}\n}\n\nexport function filterElecToggle(event){\n\treturn function(dispatch){\n\t\treturn dispatch({type:FILTER_ELEC, payload:{searchQuery:event.target.value}})\n\t}\n}","import {DATA_LOAD_SUCCESS, SEARCH_STATIONS, FILTER_ELEC} from '../constants/action-types';\n\nconst stateInit = {\n\tstations: [],\n\tupdated: '',\n\thasLocation: false,\n\tsearchQuery: '',\n\tsearch: 'searchOff',\n\tfilterElec: 'filterElecOff' \n};\n\nfunction rootReducer(state = stateInit, action){\n\n\tconst haversine = (userLat, userLon, stationLat, stationLon) => {\n\t\tconst degToRad = (numDegree) => {\n\t\t\treturn numDegree * Math.PI / 180;\n\t\t}\n\n\t\tconst radius = 6371;\n\t\tconst userLatRad = degToRad(userLat);\n\t\tconst stationLatRad = degToRad(stationLat);\n\t\tconst deltaLatRad = degToRad((userLat - stationLat));\n\t\tconst deltaLonRad = degToRad((userLon - stationLon));\n\t\tconst partOne = Math.sin(deltaLatRad/2) * Math.sin(deltaLatRad/2) + Math.sin(deltaLonRad/2) * Math.sin(deltaLonRad/2) * Math.cos(userLatRad) * Math.cos(stationLatRad);\n\t\tconst partTwo = Math.atan2(Math.sqrt(partOne), Math.sqrt(1-partOne)) * 2;\n\t\tconst distance = (Math.round((radius * partTwo * 0.621371) * 100))/100;\n\t\treturn distance;\n\t}\n\n\tif (action.type === DATA_LOAD_SUCCESS){\n\t\tconst idList = [];\n\t\tfor (let i = 0; i < state.stations.length; i++){\n\t\t\tconst stationOld = state.stations[i];\n\t\t\tidList.push(stationOld.station_id);\n\t\t}\n\t\tconst processedData = [];\n\t\tconst loc = action.payload.location;\n\t\tconst hasLocation = loc.isLocation ? true : false;\n\t\tfor (let station in action.payload.stations.data.stations){\n\t\t\tconst currentStation = action.payload.stations.data.stations[station];\n\t\t\tfor (let info in action.payload.info.data.stations){\n\t\t\t\tconst currentInfo = action.payload.info.data.stations[info];\n\t\t\t\tif (currentStation.station_id === currentInfo.station_id){\n\t\t\t\t\tconst tempObj = idList.includes(currentStation.station_id) ? { ...state.stations[idList.indexOf(currentStation.station_id)] } : {};\n\t\t\t\t\ttempObj.station_id = currentStation.station_id;\n\t\t\t\t\ttempObj.classic = currentStation.num_bikes_available;\n\t\t\t\t\ttempObj.docks = currentStation.num_docks_available;\n\t\t\t\t\ttempObj.electric = currentStation.num_ebikes_available;\n\t\t\t\t\ttempObj.name = currentInfo.name;\n\t\t\t\t\tif (hasLocation){\n\t\t\t\t\t\ttempObj.dist = ' (' +haversine(loc.lat, loc.lon, currentInfo.lat, currentInfo.lon) +' mi.)';\n\t\t\t\t\t}\n\t\t\t\t\tprocessedData.push(tempObj);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst processedDataSorted = hasLocation ? processedData.sort((a,b) => a.dist > b.dist ? 1 : -1) : processedData.sort((a,b) => a.name > b.name ? 1 : -1);\n\t\tconst updated = new Date();\n\t\tconst convertTwoDigits = (num) => {\n\t\t\treturn num >= 10 ? num : '0' + num;\n\t\t}\n\t\tconst updatedString = convertTwoDigits((updated.getMonth() + 1)) +'/' + convertTwoDigits(updated.getDate()) +'/' +(updated.getYear() + 1900) +' ' +convertTwoDigits(updated.getHours()) +':' +convertTwoDigits(updated.getMinutes()) +':' +convertTwoDigits(updated.getSeconds());\n\t\treturn Object.assign({}, state, {\n\t\t\tstations: processedDataSorted,\n\t\t\tupdated: convertTwoDigits((updated.getMonth() + 1)) +'/' + convertTwoDigits(updated.getDate()) +'/' +(updated.getYear() + 1900) +' ' +convertTwoDigits(updated.getHours()) +':' +convertTwoDigits(updated.getMinutes()) +':' +convertTwoDigits(updated.getSeconds()),\n\t\t\thasLocation: hasLocation,\n\t\t\tsearch: state.search\n\t\t});\n\t}\n\tif (action.type === SEARCH_STATIONS){\n\t\tconst searchQuery = action.payload.searchQuery;\n\t\tconst stationsSearch = Object.assign([],state.stations);\n\t\tif (searchQuery.length > 0){\n\t\t\tfor (let i = 0; i < stationsSearch.length; i++){\n\t\t\t\tconst currentStation = stationsSearch[i]\n\t\t\t\tif (currentStation.name.toLowerCase().includes(searchQuery.toLowerCase())){\n\t\t\t\t\tcurrentStation.isVisible = true\n\t\t\t\t} else {\n\t\t\t\t\tcurrentStation.isVisible = false\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Object.assign({},state,{\n\t\t\t\tsearchQuery: searchQuery,\n\t\t\t\tstations: stationsSearch,\n\t\t\t\tsearch: 'searchOn'\n\t\t\t})\n\t\t} else {\n\t\t\tfor (let i = 0; i < stationsSearch.length; i++){\n\t\t\t\tconst currentStation = stationsSearch[i]\n\t\t\t\tcurrentStation.isVisible = false\n\t\t\t\t}\n\t\t\treturn Object.assign({},state,{\n\t\t\t\tsearchQuery: searchQuery,\n\t\t\t\tstations: stationsSearch,\n\t\t\t\tsearch: 'searchOff'\n\t\t\t})\n\t\t}\n\t}\n\n\tif (action.type === FILTER_ELEC){\n\t\tconst tempObj = {...state};\n\t\ttempObj.filterElec = state.filterElec === 'filterElecOff' ? 'filterElecOn' : 'filterElecOff';\n\t\treturn Object.assign({},tempObj)\n\t}\n\treturn state;\n}\n\nexport default rootReducer;","import {DATA_LOAD_SUCCESS, REQUEST_DATA_LOAD} from '../constants/action-types.js';\n\nconst getLocation = (input) => {\n\tnavigator.geolocation.getCurrentPosition(\n\t\t(position)=>{\t\t\t\n\t\t\tconst output = {\n\t\t\t\tlat: position.coords.latitude,\n\t\t\t\tlon: position.coords.longitude,\n\t\t\t\tisLocation: true\n\t\t\t}\n\t\t\tObject.assign(input,output);\n\t\t\treturn input;\n\t\t},\n\t\t()=>{\n\t\t\tconst output= {\n\t\t\t\tlat: 0,\n\t\t\t\tlon: 0,\n\t\t\t\tisLocation: false\n\t\t\t}\n\t\t\tObject.assign(input,output);\n\t\t\treturn input;\n\t\t}\n\t)\t\n}\n\n\n\nconst getStation = (input) => {\n\treturn fetch('https://gbfs.citibikenyc.com/gbfs/en/station_status.json')\n\t\t.then((response)=>response.json())\n\t\t.then((json)=>{\n\t\t\tObject.assign(input,json);\n\t\t\treturn input;\n\t\t})\n}\n\nconst getInfo = (input) => {\n\treturn fetch('https://gbfs.citibikenyc.com/gbfs/en/station_information.json')\n\t\t.then((response)=>response.json())\n\t\t.then((json)=>{\n\t\t\tObject.assign(input,json);\n\t\t\treturn input;\n\t\t})\n}\n\nexport function componentDataLoad({dispatch}) {\n\treturn function(next){\n\t\treturn function(action){\n\t\t\tif (action.type === REQUEST_DATA_LOAD){\n\t\t\t\tconst rawLocation = {};\n\t\t\t\tconst rawStation = {};\n\t\t\t\tconst rawInfo = {};\n\t\t\t\tPromise.all([getLocation(rawLocation),getStation(rawStation),getInfo(rawInfo)])\n\t\t\t\t.then(\n\t\t\t\t\t(rawData)=>{\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: DATA_LOAD_SUCCESS,\n\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\tlocation: rawLocation,\n\t\t\t\t\t\t\t\tstations: rawStation,\n\t\t\t\t\t\t\t\tinfo: rawInfo\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn next(action);\n\t\t}\n\t}\n}","import {createStore, applyMiddleware} from 'redux';\nimport rootReducer from '../reducers/index';\nimport thunk from 'redux-thunk';\nimport {componentDataLoad} from '../middleware/index'\n\nconst store = createStore(\n\trootReducer,\n\tapplyMiddleware(thunk, componentDataLoad)\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport store from './store/index.js'\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n\t<Provider\n\t\tstore={store}\n\t>\n\t\t<App />\n\t</Provider>,\ndocument.getElementById('root'));"],"sourceRoot":""}